# If in a terminal
if [ -t 0 ]; then
  # Disable messsages from other users
  mesg n

  if has-command zoxide; then
    alias cd='z'
  fi

  alias ls='eza'
  alias ll='eza -lg'
  alias lla='eza -lga'
  alias la='eza -a'
  alias l='lla'

  alias grep='grep --color=auto'

  alias clear='clear -x'

  alias ga='git add'
  alias gaa='git add .'
  alias gcm='git commit -m'
  alias gc='git commit'
  alias gs='git status'
  alias gl='git log -20 --pretty=oneline --abbrev-commit --reverse'
  alias gll='git log'
  alias gph='git push'
  alias gpu='git pull'
  alias gd='git diff'

  alias dev='tmux_develop'
  alias ses='tmux_fzf_sessions'

  alias shx='sudo --preserve-env=EDITOR,TERM,TERMINFO,TERMINFO_DIRS,XDG_CONFIG_DIRS,XDG_DATA_DIRS,XDG_CONFIG_HOME hx'
  alias hxdf='hx "$HOME/dotfiles/" && dswitch'
  alias hxnc='shx /etc/nixos'

  alias dswitch='~/dotfiles/switch'
  alias hswitch='home-manager switch'

  if [ -f "/etc/NIXOS" ]; then
    alias switch='sudo nixos-rebuild switch'
    alias rswitch='sudo nixos-rebuild boot && reboot'
  fi

  . ~/.config/shell/tmux_functions
  . ~/.config/shell/nix_functions

  if has-command tmux \
    && [ -n "$PS1" ] \
    && [[ ! "$TERM" =~ screen ]] \
    && [[ ! "$TERM" =~ tmux ]] \
    && [ -z "$TMUX" ] \
    && [[ $XDG_SESSION_TYPE != "tty" ]]
  then
    tmux -f ~/.config/tmux/tmux.conf new-session -A -s main ; exit
  fi

  # If colors
  # if [ `tput colors` -ge 8 ]; then
  # fi
fi

